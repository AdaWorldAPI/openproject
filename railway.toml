# Railway deployment configuration for OpenProject

[build]
dockerfilePath = "Dockerfile.railway"
buildTarget = "slim"

[deploy]
healthcheckPath = "/health_checks/default"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
numReplicas = 1

# Let Puma bind to 0.0.0.0 on Railway's PORT
startCommand = "BIND=0.0.0.0 ./docker/prod/entrypoint-slim.sh ./docker/prod/web"
