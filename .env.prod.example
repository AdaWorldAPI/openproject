# OpenProject Production Environment
# Copy this to .env and fill in your values

# ===========================================
# CORE SETTINGS
# ===========================================

# Generate with: openssl rand -hex 64
SECRET_KEY_BASE=replace_with_64_char_hex_string

# Your domain (without protocol)
OPENPROJECT_HOST__NAME=openproject.yourdomain.com

# Set to true if behind HTTPS proxy
OPENPROJECT_HTTPS=false

# Port to expose (default 8080)
PORT=8080

# ===========================================
# DATABASE (Optional - all-in-one includes postgres)
# ===========================================

# Uncomment for external database:
# DATABASE_URL=postgresql://user:password@host:5432/openproject

# ===========================================
# EMAIL - MS GRAPH (Recommended for M365)
# ===========================================

# Set delivery method to msgraph
OPENPROJECT_EMAIL_DELIVERY_METHOD=msgraph

# Azure AD credentials
MSGRAPH_TENANT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
MSGRAPH_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
MSGRAPH_CLIENT_SECRET=your-client-secret-value

# Sender mailbox (must exist in your M365 tenant)
MSGRAPH_SENDER_EMAIL=noreply@yourdomain.com
MSGRAPH_SENDER_NAME=OpenProject

# Save sent emails to Sent Items folder
MSGRAPH_SAVE_TO_SENT_ITEMS=true

# From address shown in emails
MAIL_FROM=noreply@yourdomain.com

# ===========================================
# EMAIL - SMTP (Alternative to MS Graph)
# ===========================================

# Uncomment and configure if using SMTP instead of MS Graph:
# OPENPROJECT_EMAIL_DELIVERY_METHOD=smtp
# SMTP_ADDRESS=smtp.example.com
# SMTP_PORT=587
# SMTP_DOMAIN=example.com
# SMTP_USER=your-smtp-user
# SMTP_PASSWORD=your-smtp-password
# SMTP_STARTTLS=true
# SMTP_AUTH=login
# MAIL_FROM=openproject@example.com

# ===========================================
# RAILWAY DEPLOYMENT
# ===========================================

# Railway sets PORT automatically, no need to set it
# Railway provides DATABASE_URL if you add a postgres service

# For Railway, just set these in the Variables tab:
# - SECRET_KEY_BASE
# - OPENPROJECT_HOST__NAME (your railway domain)
# - OPENPROJECT_HTTPS=true
# - OPENPROJECT_EMAIL_DELIVERY_METHOD=msgraph
# - MSGRAPH_* variables
# - MAIL_FROM
