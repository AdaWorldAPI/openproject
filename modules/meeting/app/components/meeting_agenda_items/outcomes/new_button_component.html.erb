<%=
  component_wrapper do
    render(Primer::Alpha::ActionMenu.new(classes: "hide-when-print")) do |component|
      component.with_show_button(scheme: :secondary) do |button|
        button.with_leading_visual_icon(icon: :plus)
        button.with_trailing_visual_icon(icon: "triangle-down")
        t(:label_agenda_outcome)
      end
      component.with_item(
        label: t(:label_write_outcome),
        tag: :a,
        content_arguments: {
          data: {
            "turbo-stream": true,
            action: "click->meetings--submit#intercept",
            href: new_meeting_outcome_path(
              @meeting,
              meeting_agenda_item_id: @meeting_agenda_item.id,
              kind: :information
            ),
            method: "GET"
          }
        }
      )
      component.with_item(
        label: t(:label_existing_work_package),
        tag: :a,
        content_arguments: {
          data: {
            "turbo-stream": true,
            action: "click->meetings--submit#intercept",
            href: new_meeting_outcome_path(
              @meeting,
              meeting_agenda_item_id: @meeting_agenda_item.id,
              kind: :work_package
            ),
            method: "GET"
          }
        }
      )
      if User.current.allowed_in_project?(:add_work_packages, @meeting.project)
        component.with_item(
          label: t(:label_work_package_new),
          tag: :a,
          content_arguments: {
            data: {
              "turbo-stream": true,
              action: "click->meetings--submit#intercept",
              href: create_work_package_dialog_meeting_outcomes_path(
                @meeting,
                meeting_agenda_item_id: @meeting_agenda_item.id
              ),
              method: "GET"
            }
          }
        )
      end
    end
  end
%>
