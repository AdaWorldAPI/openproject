<%=
  component_wrapper do
    primer_form_with(
      model: @meeting_outcome,
      method: :post,
      url: submit_path,
      namespace: "form_#{wrapper_uniq_by}",
      data: { action: "submit->meetings--submit#interceptOutcomeFormSubmission" },
      class: "meeting-agenda-item-outcome-form"
    ) do |f|
      flex_layout(tag: :div) do |flex|
        flex.with_row(mb: 2) do
          render_inline_form(f) do |form|
            form.work_package_autocompleter(
              name: :work_package_id,
              label: WorkPackage.model_name.human,
              visually_hide_label: false,
              autocomplete_options: {
                id: "op-agenda-item-outcome-wp-autocomplete",
                data: {
                  "test-selector": "op-agenda-item-outcome-wp-autocomplete"
                },
                openDirectly: true,
                focusDirectly: true
              }
            )
          end
        end

        flex.with_row do
          flex_layout(justify_content: :flex_end) do |row|
            row.with_column(mr: 2) do
              render(
                Primer::Beta::Button.new(
                  scheme: :secondary,
                  tag: :a,
                  href: cancel_path,
                  data: { "turbo-stream": true }
                )
              ) { t("button_cancel") }
            end
            row.with_column do
              render(
                Primer::Beta::Button.new(
                  scheme: :primary,
                  type: :submit
                )
              ) { t("button_add") }
            end
          end
        end
      end
    end
  end
%>
